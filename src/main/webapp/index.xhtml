<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:fc="http://xmlns.jcp.org/jsf/composite/components">
<h:head>
	<title>Jakarta EE taskList</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
        crossorigin="anonymous" />
</h:head>
<h:body>
	<h:form>
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-sm-8">

					<!-- New Task Form -->
 					<div class="card m-3">
						<div class="card-header">
							<h:outputText value="New Task" />
						</div>
						<div class="card-body">
							<div class="row">
								<h:outputText value="Task" styleClass="col-sm-2" />
								<div class="p-2 col-sm-7">
									<h:inputText id="name" value="#{taskList.name}" 
										p:placeholder="Enter task description" styleClass="form-control" />	
								</div>
							</div>
							<div class="row mt-3">
								<div class="offset-sm-2 col-sm-7">
									<h:commandButton value="Add Task"
										action="#{taskList.addTask}" styleClass="btn btn-primary" />		
								</div>
							</div>
						</div>
					</div>
			
					<!-- Current Tasks -->
					<div class="card m-3">
						<div class="card-header">
							<h:outputText value="Current Tasks" />
						</div>
						<div class="card-body">
							<h:dataTable id="taskList" value="#{taskList.taskList}" border="1"
								var="task" styleClass="table table-striped">
								<h:column>
									<h:outputText value="#{task.name}"/>
								</h:column>
								<h:column>
									<h:commandButton value="Delete"
										action="#{taskList.deleteTask(task.id)}" immediate="true" 
										styleClass="btn btn-danger" />
								</h:column>
							</h:dataTable>
						</div>
					</div>
				</div>
			</div>
		</div>	
	</h:form>

</h:body>
</html>